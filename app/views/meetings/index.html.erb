<section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Meetings</h1>
    <% if authenticated? && Current.user&.admin? %>
      <%= link_to "Upload agenda", new_admin_meeting_path, class: "inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors" %>
    <% end %>
  </div>

  <% if @meetings.any? %>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <% @meetings.each do |meeting| %>
        <%= link_to meeting_path(meeting), class: "block bg-white rounded-lg border border-gray-200 p-6 hover:border-blue-300 hover:shadow-sm transition" do %>
          <div class="flex items-center gap-2 mb-3">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
              <%= meeting.meeting_type.titleize %>
            </span>
            <% if meeting.published_versions_count > 1 %>
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                <%= meeting.published_versions_count %> versions
              </span>
            <% end %>
          </div>
          <h2 class="font-semibold text-gray-900"><%= meeting.date.strftime("%B %-d, %Y") %></h2>
          <div class="mt-3 flex items-center gap-4 text-sm text-gray-500">
            <span><%= meeting.agenda_sections.size %> sections</span>
            <span><%= meeting.agenda_items.size %> items</span>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="bg-white rounded-lg border border-gray-200 p-12 text-center">
      <p class="text-gray-500">No meetings available yet.</p>
    </div>
  <% end %>
</section>
